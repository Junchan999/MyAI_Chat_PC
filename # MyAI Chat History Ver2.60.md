# MyAI Chat History Ver2.60

## 概要

**MyAI Chat History** は、Google の `Gemini API` を利用してAIとの対話を楽しむことができるWebアプリケーションです。

大きな特徴として、行った対話を単なるテキストではなく、AIが生成した「タイトル」と「要約」付きの**チャット履歴**として管理できる点があります。

すべてのデータはローカルのファイルとして保存・読込を行うため、サーバーを必要とせず、ご自身のPC内だけで完結して動作します。

  
*(スクリーンショット画像のURLをここに挿入してください)*

### 主な機能

-   **AIとの対話**: `Gemini API (gemini-pro-vision)` を利用し、テキストと画像を組み合わせた対話が可能です。
-   **チャットの自動要約と保存**: 対話履歴をAIが分析し、タイトルと要約を付けてMarkdown形式のファイル(`*.md`)で保存できます。
-   **履歴の一元管理**: 保存したチャット履歴はJSONファイル(`*.json`)として一括でエクスポート・インポートできます。
-   **プロファイル機能**: AIの性格（ペルソナ）やあなたの名前、音声設定などを「プロファイル」として複数保存し、瞬時に切り替えることができます。
-   **音声入出力**: マイクからの音声入力と、AIの応答の音声読み上げ（TTS）に対応しています。
-   **PDF出力**: 保存したチャット履歴を、印刷や共有に適したPDF形式で出力できます。
-   **スタンドアロン動作**: サーバー不要。`index.html`ファイルをブラウザで開くだけで動作します。

## 動作要件

-   最新版のGoogle Chrome, Microsoft Edge, Firefoxなどのモダンブラウザ
-   Google AI Studioで取得した `Gemini API` キー

## セットアップと使い方

### 1. Gemini APIキーの取得

1.  [Google AI Studio](https://aistudio.google.com/) にアクセスし、Googleアカウントでログインします。
2.  **"Get API key"** をクリックし、新しいAPIキーを作成します。
3.  生成されたAPIキーをコピーしておきます。

### 2. アプリケーションの起動

1.  このリポジトリの `index.html` ファイルをダウンロードします。
2.  ダウンロードした `index.html` をお使いのウェブブラウザで開きます。
    -   ファイルをブラウザのウィンドウにドラッグ＆ドロップするか、右クリックして「プログラムから開く」でブラウザを選択します。

### 3. 初期設定

1.  アプリが起動したら、まず画面右上の **`[API設定]`** ボタンをクリックします。
2.  表示されたウィンドウに、先ほど取得した `Gemini API` キーを貼り付けます。
3.  **`[APIキーをテスト]`** ボタンでキーが有効か確認し、問題なければ **`[設定]`** ボタンを押して保存します。
    -   APIキーはブラウザのローカルストレージに保存され、次回以降は自動で読み込まれます。

### 4. 基本的な使い方

-   **チャット**: 画面下部の入力欄にメッセージを打ち込み、`Enter`キーまたは送信ボタンでAIに応答を送信します。
-   **画像の添付**: `📎`ボタンをクリックするか、画像ファイルを直接入力欄にペーストすると、画像を添付して送信できます。
-   **チャットの保存**: 会話が一段落したら、 **`[チャット保存]`** ボタンをクリックします。AIが会話のタイトルと要約を生成し、Markdownファイル (`.md`) としてダウンロードします。同時に、この履歴はアプリ内の履歴リストに追加されます。

### 5. プロファイル機能の活用

複数のAIの性格や設定を使い分けたい場合に非常に便利です。

1.  画面右上の **`[各種設定]`** ボタンをクリックします。
2.  「AI応答設定」タブで、AIの性格（ペルソナ）やあなたとAIの名前などを自由に変更します。
3.  「設定プロファイル」セクションの **`[➕ 新規保存]`** ボタンを押し、`仕事用アシスタント` などの分かりやすい名前を付けて保存します。
4.  同様に、`プライベートの友人` など、別の設定を作成して保存します。
5.  以降は、画面ヘッダーのドロップダウンメニューから、作成したプロファイルをワンクリックで切り替えることができます。

### 6. チャット履歴データの永続化

**【重要】** アプリ内のチャット履歴リストは、ブラウザを閉じると消えてしまいます。データを永続的に保存するには、以下の操作を行ってください。

-   **保存 (エクスポート)**:
    -   `[各種設定]` > 「履歴ファイル管理」タブを開きます。
    -   **`[全履歴をJSONで保存]`** ボタンを押し、すべてのチャット履歴を単一のJSONファイルとしてPCに保存します。定期的にバックアップを取ることをお勧めします。
-   **読込 (インポート)**:
    -   別のPCで作業を再開する場合や、データを復元したい場合は、同じ場所の **`[全履歴をJSONから読込]`** ボタンをクリックし、以前保存したJSONファイルを選択します。

## 注意事項

-   `Gemini API` の利用には、Googleの利用規約が適用され、利用量に応じて料金が発生する場合があります。ご自身のAPI利用状況はGoogle Cloud Consoleなどでご確認ください。
-   APIキーは重要な情報です。第三者に漏洩しないよう、厳重に管理してください。
-   本アプリケーションはすべてのデータをブラウザ内およびローカルファイルとして扱います。外部のサーバーにデータが送信されるのは、GoogleのAPIとの通信のみです。

## ライセンス

本ソフトウェアは [MIT License](LICENSE) の下で公開されています。